---
data:
  _extendedDependsOn: []
  _extendedRequiredBy:
  - icon: ':heavy_check_mark:'
    path: ds/unionfind/parallel_unionfind.hpp
    title: ds/unionfind/parallel_unionfind.hpp
  - icon: ':heavy_check_mark:'
    path: flow/bipartite.hpp
    title: flow/bipartite.hpp
  - icon: ':heavy_check_mark:'
    path: flow/rank_maximal_bipartite_matching.hpp
    title: flow/rank_maximal_bipartite_matching.hpp
  - icon: ':question:'
    path: geo/manhattan_mst.hpp
    title: geo/manhattan_mst.hpp
  - icon: ':heavy_check_mark:'
    path: graph/bipartite_edge_coloring.hpp
    title: graph/bipartite_edge_coloring.hpp
  - icon: ':heavy_check_mark:'
    path: graph/bipartite_vertex_coloring.hpp
    title: graph/bipartite_vertex_coloring.hpp
  - icon: ':heavy_check_mark:'
    path: graph/blackbox/complement_graph_unionfind.hpp
    title: graph/blackbox/complement_graph_unionfind.hpp
  - icon: ':warning:'
    path: graph/blackbox/interval_graph_unionfind.hpp
    title: graph/blackbox/interval_graph_unionfind.hpp
  - icon: ':warning:'
    path: graph/blackbox/mst.hpp
    title: graph/blackbox/mst.hpp
  - icon: ':heavy_check_mark:'
    path: graph/blackbox/unionfind.hpp
    title: graph/blackbox/unionfind.hpp
  - icon: ':heavy_check_mark:'
    path: graph/characteristic_polynomial_of_tree_adjacency_matrix.hpp
    title: graph/characteristic_polynomial_of_tree_adjacency_matrix.hpp
  - icon: ':heavy_check_mark:'
    path: graph/dag_path_cover.hpp
    title: graph/dag_path_cover.hpp
  - icon: ':heavy_check_mark:'
    path: graph/directed_mst.hpp
    title: graph/directed_mst.hpp
  - icon: ':question:'
    path: graph/eulerwalk.hpp
    title: graph/eulerwalk.hpp
  - icon: ':heavy_check_mark:'
    path: graph/functional.hpp
    title: graph/functional.hpp
  - icon: ':heavy_check_mark:'
    path: graph/maximum_antichain.hpp
    title: graph/maximum_antichain.hpp
  - icon: ':heavy_check_mark:'
    path: graph/minimum_spanning_tree.hpp
    title: graph/minimum_spanning_tree.hpp
  - icon: ':x:'
    path: graph/optimal_product_on_tree.hpp
    title: graph/optimal_product_on_tree.hpp
  - icon: ':heavy_check_mark:'
    path: graph/st_numbering.hpp
    title: graph/st_numbering.hpp
  - icon: ':question:'
    path: graph/tree_of_unionfind.hpp
    title: graph/tree_of_unionfind.hpp
  - icon: ':heavy_check_mark:'
    path: graph/tree_walk_generating_function.hpp
    title: graph/tree_walk_generating_function.hpp
  - icon: ':heavy_check_mark:'
    path: graph/unicyclic.hpp
    title: graph/unicyclic.hpp
  - icon: ':heavy_check_mark:'
    path: random/random_graph.hpp
    title: random/random_graph.hpp
  _extendedVerifiedWith:
  - icon: ':heavy_check_mark:'
    path: test/1_mytest/count_K4.test.cpp
    title: test/1_mytest/count_K4.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/1_mytest/count_P3P4P5.test.cpp
    title: test/1_mytest/count_P3P4P5.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/1_mytest/count_clique.test.cpp
    title: test/1_mytest/count_clique.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/1_mytest/count_indep_set.test.cpp
    title: test/1_mytest/count_indep_set.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/1_mytest/enumerate_unlabeled_tree.test.cpp
    title: test/1_mytest/enumerate_unlabeled_tree.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/1_mytest/find_C4.test.cpp
    title: test/1_mytest/find_C4.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/1_mytest/find_cycle_minimum.test.cpp
    title: test/1_mytest/find_cycle_minimum.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/1_mytest/find_even_cycle.test.cpp
    title: test/1_mytest/find_even_cycle.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/1_mytest/find_odd_cycle.test.cpp
    title: test/1_mytest/find_odd_cycle.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/1_mytest/incremental_scc.test.cpp
    title: test/1_mytest/incremental_scc.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/1_mytest/matching_line_graph.test.cpp
    title: test/1_mytest/matching_line_graph.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/1_mytest/matching_ve.test.cpp
    title: test/1_mytest/matching_ve.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/1_mytest/prufer.test.cpp
    title: test/1_mytest/prufer.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/1_mytest/remove_one_edge.test.cpp
    title: test/1_mytest/remove_one_edge.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/1_mytest/remove_one_vertex.test.cpp
    title: test/1_mytest/remove_one_vertex.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/1_mytest/rolling_hash_on_tree.test.cpp
    title: test/1_mytest/rolling_hash_on_tree.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/1_mytest/st_numbering.test.cpp
    title: test/1_mytest/st_numbering.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/1_mytest/tree_walk_gf.test.cpp
    title: test/1_mytest/tree_walk_gf.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/1_mytest/tutte.test.cpp
    title: test/1_mytest/tutte.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/2_library_checker/datastructure/range_parallel_uf.test.cpp
    title: test/2_library_checker/datastructure/range_parallel_uf.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/2_library_checker/datastructure/unionfind.test.cpp
    title: test/2_library_checker/datastructure/unionfind.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/2_library_checker/graph/bipartite_edge_coloring.test.cpp
    title: test/2_library_checker/graph/bipartite_edge_coloring.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/2_library_checker/graph/bipartitematching.test.cpp
    title: test/2_library_checker/graph/bipartitematching.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/2_library_checker/graph/complement_graph_unionfind.test.cpp
    title: test/2_library_checker/graph/complement_graph_unionfind.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/2_library_checker/graph/directed_mst.test.cpp
    title: test/2_library_checker/graph/directed_mst.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/2_library_checker/graph/eulerwalk_d.test.cpp
    title: test/2_library_checker/graph/eulerwalk_d.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/2_library_checker/graph/eulerwalk_ud.test.cpp
    title: test/2_library_checker/graph/eulerwalk_ud.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/2_library_checker/graph/incremental_scc.test.cpp
    title: test/2_library_checker/graph/incremental_scc.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/2_library_checker/graph/manhattan_mst.test.cpp
    title: test/2_library_checker/graph/manhattan_mst.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/2_library_checker/graph/st_numbering.test.cpp
    title: test/2_library_checker/graph/st_numbering.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/2_library_checker/tree/mst.test.cpp
    title: test/2_library_checker/tree/mst.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/3_yukicoder/114.test.cpp
    title: test/3_yukicoder/114.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/3_yukicoder/1170_2.test.cpp
    title: test/3_yukicoder/1170_2.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/3_yukicoder/1211.test.cpp
    title: test/3_yukicoder/1211.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/3_yukicoder/1242.test.cpp
    title: test/3_yukicoder/1242.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/3_yukicoder/1254.test.cpp
    title: test/3_yukicoder/1254.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/3_yukicoder/1303.test.cpp
    title: test/3_yukicoder/1303.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/3_yukicoder/1392.test.cpp
    title: test/3_yukicoder/1392.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/3_yukicoder/1451.test.cpp
    title: test/3_yukicoder/1451.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/3_yukicoder/1479.test.cpp
    title: test/3_yukicoder/1479.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/3_yukicoder/1600.test.cpp
    title: test/3_yukicoder/1600.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/3_yukicoder/1600_2.test.cpp
    title: test/3_yukicoder/1600_2.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/3_yukicoder/1615.test.cpp
    title: test/3_yukicoder/1615.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/3_yukicoder/1744.test.cpp
    title: test/3_yukicoder/1744.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/3_yukicoder/1745.test.cpp
    title: test/3_yukicoder/1745.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/3_yukicoder/1911.test.cpp
    title: test/3_yukicoder/1911.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/3_yukicoder/1983.test.cpp
    title: test/3_yukicoder/1983.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/3_yukicoder/2122.test.cpp
    title: test/3_yukicoder/2122.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/3_yukicoder/2295.test.cpp
    title: test/3_yukicoder/2295.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/3_yukicoder/2296.test.cpp
    title: test/3_yukicoder/2296.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/3_yukicoder/2587.test.cpp
    title: test/3_yukicoder/2587.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/3_yukicoder/2587_2.test.cpp
    title: test/3_yukicoder/2587_2.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/3_yukicoder/590.test.cpp
    title: test/3_yukicoder/590.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/4_aoj/1566.test.cpp
    title: test/4_aoj/1566.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/4_aoj/2251_1.test.cpp
    title: test/4_aoj/2251_1.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/4_aoj/2251_2.test.cpp
    title: test/4_aoj/2251_2.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/4_aoj/2995.test.cpp
    title: test/4_aoj/2995.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/4_aoj/GRL_2_A.test.cpp
    title: test/4_aoj/GRL_2_A.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/5_atcoder/abc237ex.test.cpp
    title: test/5_atcoder/abc237ex.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/5_atcoder/abc266f.test.cpp
    title: test/5_atcoder/abc266f.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/5_atcoder/abc270_f.test.cpp
    title: test/5_atcoder/abc270_f.test.cpp
  - icon: ':heavy_check_mark:'
    path: test/5_atcoder/abc274g.test.cpp
    title: test/5_atcoder/abc274g.test.cpp
  - icon: ':x:'
    path: test/5_atcoder/abc283f.test.cpp
    title: test/5_atcoder/abc283f.test.cpp
  - icon: ':x:'
    path: test/5_atcoder/abc301h.test.cpp
    title: test/5_atcoder/abc301h.test.cpp
  - icon: ':x:'
    path: test/5_atcoder/abc314f.test.cpp
    title: test/5_atcoder/abc314f.test.cpp
  - icon: ':x:'
    path: test/5_atcoder/agc023f.test.cpp
    title: test/5_atcoder/agc023f.test.cpp
  - icon: ':x:'
    path: test/5_atcoder/arc157a.test.cpp
    title: test/5_atcoder/arc157a.test.cpp
  _isVerificationFailed: true
  _pathExtension: hpp
  _verificationStatusIcon: ':question:'
  attributes:
    links: []
  bundledCode: "#line 2 \"ds/unionfind/unionfind.hpp\"\n\nstruct UnionFind {\n  int\
    \ n, n_comp;\n  vc<int> dat; // par or (-size)\n  UnionFind(int n = 0) { build(n);\
    \ }\n\n  void build(int m) {\n    n = m, n_comp = m;\n    dat.assign(n, -1);\n\
    \  }\n\n  void reset() { build(n); }\n\n  int operator[](int x) {\n    while (dat[x]\
    \ >= 0) {\n      int pp = dat[dat[x]];\n      if (pp < 0) { return dat[x]; }\n\
    \      x = dat[x] = pp;\n    }\n    return x;\n  }\n\n  ll size(int x) {\n   \
    \ x = (*this)[x];\n    return -dat[x];\n  }\n\n  bool merge(int x, int y) {\n\
    \    x = (*this)[x], y = (*this)[y];\n    if (x == y) return false;\n    if (-dat[x]\
    \ < -dat[y]) swap(x, y);\n    dat[x] += dat[y], dat[y] = x, n_comp--;\n    return\
    \ true;\n  }\n\n  vc<int> get_all() {\n    vc<int> A(n);\n    FOR(i, n) A[i] =\
    \ (*this)[i];\n    return A;\n  }\n};\n"
  code: "#pragma once\n\nstruct UnionFind {\n  int n, n_comp;\n  vc<int> dat; // par\
    \ or (-size)\n  UnionFind(int n = 0) { build(n); }\n\n  void build(int m) {\n\
    \    n = m, n_comp = m;\n    dat.assign(n, -1);\n  }\n\n  void reset() { build(n);\
    \ }\n\n  int operator[](int x) {\n    while (dat[x] >= 0) {\n      int pp = dat[dat[x]];\n\
    \      if (pp < 0) { return dat[x]; }\n      x = dat[x] = pp;\n    }\n    return\
    \ x;\n  }\n\n  ll size(int x) {\n    x = (*this)[x];\n    return -dat[x];\n  }\n\
    \n  bool merge(int x, int y) {\n    x = (*this)[x], y = (*this)[y];\n    if (x\
    \ == y) return false;\n    if (-dat[x] < -dat[y]) swap(x, y);\n    dat[x] += dat[y],\
    \ dat[y] = x, n_comp--;\n    return true;\n  }\n\n  vc<int> get_all() {\n    vc<int>\
    \ A(n);\n    FOR(i, n) A[i] = (*this)[i];\n    return A;\n  }\n};\n"
  dependsOn: []
  isVerificationFile: false
  path: ds/unionfind/unionfind.hpp
  requiredBy:
  - geo/manhattan_mst.hpp
  - random/random_graph.hpp
  - graph/maximum_antichain.hpp
  - graph/tree_of_unionfind.hpp
  - graph/optimal_product_on_tree.hpp
  - graph/bipartite_edge_coloring.hpp
  - graph/functional.hpp
  - graph/characteristic_polynomial_of_tree_adjacency_matrix.hpp
  - graph/eulerwalk.hpp
  - graph/dag_path_cover.hpp
  - graph/tree_walk_generating_function.hpp
  - graph/blackbox/interval_graph_unionfind.hpp
  - graph/blackbox/complement_graph_unionfind.hpp
  - graph/blackbox/unionfind.hpp
  - graph/blackbox/mst.hpp
  - graph/minimum_spanning_tree.hpp
  - graph/directed_mst.hpp
  - graph/bipartite_vertex_coloring.hpp
  - graph/unicyclic.hpp
  - graph/st_numbering.hpp
  - flow/rank_maximal_bipartite_matching.hpp
  - flow/bipartite.hpp
  - ds/unionfind/parallel_unionfind.hpp
  timestamp: '2024-03-10 03:27:25+09:00'
  verificationStatus: LIBRARY_SOME_WA
  verifiedWith:
  - test/5_atcoder/abc314f.test.cpp
  - test/5_atcoder/abc301h.test.cpp
  - test/5_atcoder/abc270_f.test.cpp
  - test/5_atcoder/agc023f.test.cpp
  - test/5_atcoder/abc274g.test.cpp
  - test/5_atcoder/abc266f.test.cpp
  - test/5_atcoder/abc237ex.test.cpp
  - test/5_atcoder/abc283f.test.cpp
  - test/5_atcoder/arc157a.test.cpp
  - test/3_yukicoder/1911.test.cpp
  - test/3_yukicoder/114.test.cpp
  - test/3_yukicoder/1600_2.test.cpp
  - test/3_yukicoder/1211.test.cpp
  - test/3_yukicoder/2295.test.cpp
  - test/3_yukicoder/1303.test.cpp
  - test/3_yukicoder/590.test.cpp
  - test/3_yukicoder/1983.test.cpp
  - test/3_yukicoder/1744.test.cpp
  - test/3_yukicoder/1479.test.cpp
  - test/3_yukicoder/1254.test.cpp
  - test/3_yukicoder/1392.test.cpp
  - test/3_yukicoder/1242.test.cpp
  - test/3_yukicoder/1170_2.test.cpp
  - test/3_yukicoder/1451.test.cpp
  - test/3_yukicoder/2122.test.cpp
  - test/3_yukicoder/1600.test.cpp
  - test/3_yukicoder/1745.test.cpp
  - test/3_yukicoder/2587.test.cpp
  - test/3_yukicoder/2587_2.test.cpp
  - test/3_yukicoder/1615.test.cpp
  - test/3_yukicoder/2296.test.cpp
  - test/2_library_checker/tree/mst.test.cpp
  - test/2_library_checker/graph/eulerwalk_d.test.cpp
  - test/2_library_checker/graph/incremental_scc.test.cpp
  - test/2_library_checker/graph/directed_mst.test.cpp
  - test/2_library_checker/graph/bipartitematching.test.cpp
  - test/2_library_checker/graph/st_numbering.test.cpp
  - test/2_library_checker/graph/eulerwalk_ud.test.cpp
  - test/2_library_checker/graph/complement_graph_unionfind.test.cpp
  - test/2_library_checker/graph/manhattan_mst.test.cpp
  - test/2_library_checker/graph/bipartite_edge_coloring.test.cpp
  - test/2_library_checker/datastructure/unionfind.test.cpp
  - test/2_library_checker/datastructure/range_parallel_uf.test.cpp
  - test/1_mytest/matching_ve.test.cpp
  - test/1_mytest/find_even_cycle.test.cpp
  - test/1_mytest/incremental_scc.test.cpp
  - test/1_mytest/remove_one_vertex.test.cpp
  - test/1_mytest/tutte.test.cpp
  - test/1_mytest/find_cycle_minimum.test.cpp
  - test/1_mytest/remove_one_edge.test.cpp
  - test/1_mytest/count_indep_set.test.cpp
  - test/1_mytest/st_numbering.test.cpp
  - test/1_mytest/count_P3P4P5.test.cpp
  - test/1_mytest/count_clique.test.cpp
  - test/1_mytest/rolling_hash_on_tree.test.cpp
  - test/1_mytest/count_K4.test.cpp
  - test/1_mytest/find_odd_cycle.test.cpp
  - test/1_mytest/enumerate_unlabeled_tree.test.cpp
  - test/1_mytest/tree_walk_gf.test.cpp
  - test/1_mytest/prufer.test.cpp
  - test/1_mytest/find_C4.test.cpp
  - test/1_mytest/matching_line_graph.test.cpp
  - test/4_aoj/1566.test.cpp
  - test/4_aoj/GRL_2_A.test.cpp
  - test/4_aoj/2251_1.test.cpp
  - test/4_aoj/2251_2.test.cpp
  - test/4_aoj/2995.test.cpp
documentation_of: ds/unionfind/unionfind.hpp
layout: document
redirect_from:
- /library/ds/unionfind/unionfind.hpp
- /library/ds/unionfind/unionfind.hpp.html
title: ds/unionfind/unionfind.hpp
---
